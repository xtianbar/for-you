<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For You</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'roboto': ['Roboto', 'sans-serif'],
                    },
                    colors: {
                        'romance-blue': '#e0f2fe',
                        'romance-dark': '#0ea5e9',
                        'love-pink': '#fda4af',
                        'love-red': '#be123c',
                        'success-green': '#10b981',
                        'kobe-purple': '#552583',
                        'kobe-gold': '#FDB927',
                        'messenger-blue': '#0084FF',
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: 'Roboto', sans-serif; }
        .hidden-page { display: none !important; }
        .fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        /* Chat Bubble Styling */
        .chat-me { align-self: flex-end; background-color: #0084FF; color: white; border-radius: 18px 18px 4px 18px; }
        .chat-her { align-self: flex-start; background-color: #f3f4f6; color: black; border-radius: 18px 18px 18px 4px; }

        /* Custom Range Slider */
        input[type=range] { -webkit-appearance: none; background: transparent; }
        input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; height: 24px; width: 24px; border-radius: 50%; background: #fda4af; cursor: pointer; margin-top: -8px; box-shadow: 0 2px 6px rgba(0,0,0,0.2); }
        input[type=range]::-webkit-slider-runnable-track { width: 100%; height: 8px; cursor: pointer; background: #e0f2fe; border-radius: 5px; }
    </style>
</head>
<body class="bg-romance-blue min-h-screen flex items-center justify-center p-4">

    <div class="bg-white max-w-md w-full rounded-2xl shadow-xl overflow-hidden min-h-[600px] flex flex-col relative">
        
        <div class="w-full bg-gray-200 h-2">
            <div id="progress-bar" class="bg-love-pink h-2 transition-all duration-500" style="width: 5%"></div>
        </div>

        <div class="p-8 flex-grow flex flex-col justify-center text-center relative z-10 pt-12">

            <section id="page-10" class="page-section hidden-page fade-in relative">
                <button onclick="backToAppreciation()" class="absolute top-[-30px] left-0 text-gray-400 hover:text-gray-600 text-sm transition flex items-center gap-1">&larr; Back</button>
                <h2 class="text-xl font-bold text-gray-700 mb-4">Almost There</h2>
                <p class="text-gray-600 mb-6 leading-relaxed">
                    You've unlocked every door. There is only one question left. 
                    <br><br>
                    Are you ready?
                </p>
                <button onclick="nextPage(11)" class="bg-romance-dark text-white px-8 py-3 rounded-full hover:bg-sky-600 transition shadow-lg animate-pulse">Yes, I'm ready</button>
            </section>

            <section id="page-11" class="page-section hidden-page fade-in relative">
                <button onclick="nextPage(10)" class="absolute top-[-30px] left-0 text-gray-400 hover:text-gray-600 text-sm transition flex items-center gap-1">&larr; Back</button>
                <h1 class="text-2xl font-bold text-love-red mb-2">The Final Question</h1>
                <p class="text-gray-500 mb-8">Choose wisely, my nurse.</p>
                <div class="space-y-4 w-full">
                    <div class="bg-sky-50 p-4 rounded-xl border border-sky-100">
                        <p class="text-sky-800 font-medium mb-2">Should I court you?</p>
                        <button onclick="showFinalResult('blue')" class="w-full bg-sky-500 text-white py-2 rounded-lg hover:bg-sky-600 transition flex justify-center items-center gap-2">
                            <span>Answer: YES</span>
                        </button>
                    </div>
                    <div class="bg-rose-50 p-4 rounded-xl border border-rose-100">
                        <p class="text-rose-800 font-medium mb-2">Let's go straight to the point. Will you be my girlfriend?</p>
                        <button onclick="showFinalResult('pink')" class="w-full bg-rose-500 text-white py-2 rounded-lg hover:bg-rose-600 transition flex justify-center items-center gap-2">
                            <span>Answer: YES</span>
                        </button>
                    </div>
                </div>
            </section>

        </div>

        <div id="result-modal" class="absolute inset-0 bg-white z-50 hidden flex-col items-center justify-center p-6 text-center">
            <h2 class="text-xl font-bold text-gray-800 mb-2">Screenshot & Share!</h2>
            <p class="text-sm text-gray-500 mb-6">Take a screenshot of the card below and put it on your story.</p>
            <div id="final-card" class="w-full aspect-[9/16] max-h-[400px] rounded-xl flex flex-col items-center justify-center shadow-2xl mb-6 p-6 transition-colors duration-500 relative overflow-hidden">
                <div class="absolute top-[-50px] right-[-50px] w-32 h-32 bg-white opacity-20 rounded-full"></div>
                <div class="absolute bottom-[-50px] left-[-50px] w-32 h-32 bg-white opacity-20 rounded-full"></div>
                <h3 class="text-white text-3xl font-bold mb-2 z-10">My Answer is</h3>
                <h1 class="text-white text-6xl font-black z-10 tracking-widest">YES</h1>
            </div>
            <a href="https://instagram.com" target="_blank" class="bg-gradient-to-r from-purple-500 to-pink-500 text-white px-8 py-3 rounded-full shadow-lg hover:opacity-90 transition">
                Open Instagram
            </a>
            <button onclick="closeModal()" class="mt-4 text-gray-400 text-sm hover:text-gray-600">Go Back</button>
        </div>

    </div>

    <script>
        // === CONFIGURATION ===
        const answers = {
            3: "2025",        // Year met (Page 3)
            5: "banew",     // Riddle answer (Page 5)
            7: "cafe uno",        // First date location (Page 7)
            8: "bebe"       // nickname (Page 8)
        };

        // --- Hints for 143 ---
        const hints143 = [
            "this is basic math",
            "do the math",
            "think deeper..."
        ];

        function nextPage(pageNumber) {
            document.querySelectorAll('.page-section').forEach(el => {
                el.classList.add('hidden-page');
            });
            const page = document.getElementById(`page-${pageNumber}`);
            if(page) {
                page.classList.remove('hidden-page');
                const percent = (pageNumber - 1) * 9; 
                document.getElementById('progress-bar').style.width = `${percent}%`;
            }
        }

        // --- STORY 1 NAVIGATION ---
        function goToNewStory() { document.getElementById('page-3').classList.add('hidden-page'); document.getElementById('story-cny').classList.remove('hidden-page'); }
        function backToPage3() { document.getElementById('story-cny').classList.add('hidden-page'); document.getElementById('page-3').classList.remove('hidden-page'); }
        function goToBioQuestion() { document.getElementById('story-cny').classList.add('hidden-page'); document.getElementById('story-bio-q').classList.remove('hidden-page'); }
        function backToCNY() { document.getElementById('story-bio-q').classList.add('hidden-page'); document.getElementById('story-cny').classList.remove('hidden-page'); }
        function checkBioAnswer() {
            const input = document.getElementById('ans-bio');
            const validAnswers = ['biometric', 'biometrics', 'bio'];
            if (validAnswers.includes(input.value.toLowerCase().trim())) {
                input.classList.add('border-green-500', 'bg-green-50'); input.disabled = true; document.getElementById('err-bio').classList.add('hidden');
                document.getElementById('btn-check-bio').classList.add('hidden-page'); document.getElementById('success-bio').classList.remove('hidden-page');
            } else { document.getElementById('err-bio').classList.remove('hidden'); input.classList.add('border-red-400'); }
        }
        function goToRevealStory() { document.getElementById('story-bio-q').classList.add('hidden-page'); document.getElementById('story-reveal').classList.remove('hidden-page'); }
        function backToBio() { document.getElementById('story-reveal').classList.add('hidden-page'); document.getElementById('story-bio-q').classList.remove('hidden-page'); }
        function goToPage4() { document.getElementById('story-reveal').classList.add('hidden-page'); nextPage(4); }
        function backToReveal() { document.getElementById('page-4').classList.add('hidden-page'); document.getElementById('story-reveal').classList.remove('hidden-page'); }

        // --- STORY 2: BLUE ---
        function goToBlueStory() { document.getElementById('page-4').classList.add('hidden-page'); document.getElementById('story-blue-trivia').classList.remove('hidden-page'); }
        function backToPage4() { document.getElementById('story-blue-trivia').classList.add('hidden-page'); document.getElementById('page-4').classList.remove('hidden-page'); }
        function backToBlueStory() { document.getElementById('page-5').classList.add('hidden-page'); document.getElementById('story-blue-trivia').classList.remove('hidden-page'); }

        // --- STORY 3: MOTTO ---
        function goToMottoQuestion() { document.getElementById('page-5').classList.add('hidden-page'); document.getElementById('page-motto-q').classList.remove('hidden-page'); }
        function backToRiddle() { document.getElementById('page-motto-q').classList.add('hidden-page'); document.getElementById('page-5').classList.remove('hidden-page'); }
        function checkMottoAnswer() {
            const input = document.getElementById('ans-motto');
            const correctAnswers = ['dream epic', 'dream epic!'];
            if (correctAnswers.includes(input.value.toLowerCase().trim())) {
                input.classList.add('border-green-500', 'bg-green-50'); input.disabled = true; document.getElementById('err-motto').classList.add('hidden');
                document.getElementById('btn-check-motto').classList.add('hidden-page'); document.getElementById('success-motto').classList.remove('hidden-page');
            } else { document.getElementById('err-motto').classList.remove('hidden'); input.classList.add('border-red-400'); }
        }
        function goToMottoStory() { document.getElementById('page-motto-q').classList.add('hidden-page'); document.getElementById('story-motto').classList.remove('hidden-page'); }
        function backToMottoQuestion() { document.getElementById('story-motto').classList.add('hidden-page'); document.getElementById('page-motto-q').classList.remove('hidden-page'); }
        function backToMottoStory() { document.getElementById('page-6').classList.add('hidden-page'); document.getElementById('story-motto').classList.remove('hidden-page'); }

        // --- STORY 4: DATE MEMORY ---
        function goToDateQuestion() { document.getElementById('page-7').classList.add('hidden-page'); document.getElementById('page-date-q').classList.remove('hidden-page'); }
        function backToPage7() { document.getElementById('page-date-q').classList.add('hidden-page'); document.getElementById('page-7').classList.remove('hidden-page'); }
        function checkDateAnswer() {
            const input = document.getElementById('ans-date');
            if (input.value === '2025-10-02') {
                input.classList.add('border-green-500', 'bg-green-50'); input.disabled = true; document.getElementById('err-date').classList.add('hidden');
                document.getElementById('btn-check-date').classList.add('hidden-page'); document.getElementById('success-date').classList.remove('hidden-page');
            } else { document.getElementById('err-date').classList.remove('hidden'); input.classList.add('border-red-400'); }
        }
        function goToDateStory() { document.getElementById('page-date-q').classList.add('hidden-page'); document.getElementById('story-date-memory').classList.remove('hidden-page'); }
        function backToDateQuestion() { document.getElementById('story-date-memory').classList.add('hidden-page'); document.getElementById('page-date-q').classList.remove('hidden-page'); }
        function backToDateStory() { document.getElementById('page-8').classList.add('hidden-page'); document.getElementById('story-date-memory').classList.remove('hidden-page'); }

        // --- STORY 5: SECRET PLACE & CHAT ---
        function goToPlaceQuestion() { 
            // FIXED: Hide the Chat Story, NOT Page 8
            document.getElementById('story-chat').classList.add('hidden-page'); 
            document.getElementById('page-place-q').classList.remove('hidden-page'); 
        }
        function backToPage8() { 
            // FIXED: Hide the Chat Story, Show Page 8
            document.getElementById('story-chat').classList.add('hidden-page'); 
            document.getElementById('page-8').classList.remove('hidden-page'); 
        }
        
        function checkPlaceAnswer() {
            const input = document.getElementById('ans-place');
            const correctAnswers = ['dark stairs'];
            if (correctAnswers.includes(input.value.toLowerCase().trim())) {
                input.classList.add('border-green-500', 'bg-green-50'); input.disabled = true; document.getElementById('err-place').classList.add('hidden');
                document.getElementById('btn-check-place').classList.add('hidden-page'); document.getElementById('success-place').classList.remove('hidden-page');
            } else { document.getElementById('err-place').classList.remove('hidden'); input.classList.add('border-red-400'); }
        }

        // --- CHAT STORY FUNCTIONS ---
        function goToChatStory() { 
            document.getElementById('page-8').classList.add('hidden-page'); 
            document.getElementById('story-chat').classList.remove('hidden-page'); 
        }
        
        function backToChatStory() { 
            // FIXED: Hide Question, Show Chat
            document.getElementById('page-place-q').classList.add('hidden-page'); 
            document.getElementById('story-chat').classList.remove('hidden-page'); 
        }
        
        function goToPlaceStory() { document.getElementById('page-place-q').classList.add('hidden-page'); document.getElementById('story-place').classList.remove('hidden-page'); }
        function backToPlaceQuestion() { document.getElementById('story-place').classList.add('hidden-page'); document.getElementById('page-place-q').classList.remove('hidden-page'); }
        
        // --- 143 / TWICE / TRIVIA FUNCTIONS ---

        function goTo143() { document.getElementById('story-place').classList.add('hidden-page'); document.getElementById('page-143').classList.remove('hidden-page'); }
        function backToPlaceStory() { document.getElementById('page-143').classList.add('hidden-page'); document.getElementById('story-place').classList.remove('hidden-page'); }

        function check143() {
            const input = document.getElementById('ans-143');
            const errorMsg = document.getElementById('err-143');
            const val = input.value.trim();

            if (val === '143') {
                input.classList.remove('border-red-400'); // ADDED
                input.classList.add('border-green-500', 'bg-green-50'); 
                input.disabled = true; 
                errorMsg.classList.add('hidden');
                document.getElementById('btn-check-143').classList.add('hidden-page'); 
                document.getElementById('success-143').classList.remove('hidden-page');
            } else if (val === '3000') {
                errorMsg.innerText = "nice try.. but it is not the right answer hahaha";
                errorMsg.classList.remove('hidden');
                input.classList.add('border-red-400');
            } else {
                const randomHint = hints143[Math.floor(Math.random() * hints143.length)];
                errorMsg.innerText = randomHint;
                errorMsg.classList.remove('hidden');
                input.classList.add('border-red-400');
            }
        }

        function goToTwice() { document.getElementById('page-143').classList.add('hidden-page'); document.getElementById('page-twice').classList.remove('hidden-page'); }
        function backTo143() { document.getElementById('page-twice').classList.add('hidden-page'); document.getElementById('page-143').classList.remove('hidden-page'); }

        function checkTwice() {
            const input = document.getElementById('ans-twice');
            const errorMsg = document.getElementById('err-twice');
            const val = input.value.trim().toLowerCase();

            if (val === 'twice') {
                input.classList.remove('border-red-400'); // ADDED
                input.classList.add('border-pink-500', 'bg-pink-50'); input.disabled = true; document.getElementById('err-twice').classList.add('hidden');
                document.getElementById('btn-check-twice').classList.add('hidden-page'); document.getElementById('success-twice').classList.remove('hidden-page');
            } else if (val.includes('blackpink') || val.includes('bp') || val.includes('blink')) {
                errorMsg.innerText = "sino eta? yuck ewww ðŸ˜–ðŸ¤®ðŸ‘‚";
                errorMsg.classList.remove('hidden');
                input.classList.add('border-red-400');
            } else {
                errorMsg.innerText = "Wrong. Hint: It's a group!";
                errorMsg.classList.remove('hidden');
                input.classList.add('border-red-400');
            }
        }

        function goToTwiceStory() { document.getElementById('page-twice').classList.add('hidden-page'); document.getElementById('story-twice').classList.remove('hidden-page'); }
        function backToTwice() { document.getElementById('story-twice').classList.add('hidden-page'); document.getElementById('page-twice').classList.remove('hidden-page'); }
        function backToTwiceStory() { document.getElementById('page-9').classList.add('hidden-page'); document.getElementById('story-twice').classList.remove('hidden-page'); }


        // --- APPRECIATION PAGE LOGIC ---
        function goToAppreciation() {
            document.getElementById('page-9').classList.add('hidden-page');
            document.getElementById('page-appreciation').classList.remove('hidden-page');
        }
        function backToLogic() {
            document.getElementById('page-appreciation').classList.add('hidden-page');
            document.getElementById('page-9').classList.remove('hidden-page');
        }
        function backToAppreciation() {
            document.getElementById('page-10').classList.add('hidden-page');
            document.getElementById('page-appreciation').classList.remove('hidden-page');
        }


        // --- GENERIC HELPERS ---
        function showSuccess(page) {
            document.getElementById(`btn-check-${page}`).classList.add('hidden-page');
            document.getElementById(`success-${page}`).classList.remove('hidden-page');
            const backBtn = document.getElementById(`btn-back-${page}`);
            if(backBtn) backBtn.classList.remove('hidden');
        }

        function checkAnswer(page, correctVal) {
            const input = document.getElementById(`ans-${page}`);
            if (input.value == correctVal) {
                input.classList.add('border-green-500', 'bg-green-50', 'text-green-700'); input.disabled = true; document.getElementById(`err-${page}`).classList.add('hidden');
                showSuccess(page);
            } else { document.getElementById(`err-${page}`).classList.remove('hidden'); input.classList.add('border-red-400'); }
        }

        function checkTextAnswer(page, defaultVal) {
            const input = document.getElementById(`ans-${page}`);
            let expected = answers[page] || defaultVal;
            if (input.value.toLowerCase().trim() === expected.toLowerCase()) {
                input.classList.remove('border-red-400');
                input.classList.add('border-green-500', 'bg-green-50', 'text-green-700');
                input.disabled = true;
                showSuccess(page);
            } else {
                input.value = "";
                input.placeholder = "Try again...";
                input.classList.add('border-red-400');
            }
        }

        function wrongAnswer(page) { document.getElementById(`err-${page}`).classList.remove('hidden'); }

        function solveColor() {
            document.getElementById('grid-4').classList.add('hidden-page'); document.getElementById('success-4').classList.remove('hidden-page');
            document.getElementById('btn-back-4').classList.remove('hidden'); document.getElementById('err-4').classList.add('hidden');
        }

        function checkSlider(page) {
            const slider = document.getElementById('love-slider');
            if (slider.value > 95) { document.getElementById('err-6').classList.add('hidden'); document.getElementById('slider-hint').classList.add('hidden'); slider.disabled = true; showSuccess(6); } 
            else { document.getElementById('err-6').classList.remove('hidden'); document.getElementById('slider-hint').classList.add('hidden'); }
        }
        function hideSliderError() { document.getElementById('err-6').classList.add('hidden'); document.getElementById('slider-hint').classList.remove('hidden'); }

        function solveLogic() { 
            document.getElementById('grid-9').classList.add('hidden-page'); 
            document.getElementById('success-9').classList.remove('hidden-page'); 
            // ADDED: Hide the error if it was shown
            document.getElementById('err-9').classList.add('hidden');
            document.getElementById('btn-back-9').classList.remove('hidden'); 
        }

        function showFinalResult(colorType) {
            const modal = document.getElementById('result-modal');
            const card = document.getElementById('final-card');
            modal.classList.remove('hidden'); modal.classList.add('flex');
            card.classList.remove('bg-sky-500', 'bg-rose-500');
            if (colorType === 'blue') { card.classList.add('bg-sky-500'); document.getElementById('card-context').innerText = "You can court me."; } 
            else { card.classList.add('bg-rose-500'); document.getElementById('card-context').innerText = "I will be your girlfriend."; }
        }
        function closeModal() { document.getElementById('result-modal').classList.add('hidden'); document.getElementById('result-modal').classList.remove('flex'); }
    </script>
</body>
</html>
