<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Wait</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'roboto': ['Roboto', 'sans-serif'],
                    },
                    colors: {
                        'romance-blue': '#e0f2fe',
                        'romance-dark': '#0ea5e9',
                        'love-pink': '#fda4af',
                        'love-red': '#be123c',
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: 'Roboto', sans-serif; }
        .fade-in { animation: fadeIn 1.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        
        .timer-box {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(5px);
        }

        /* Toast Notification Animation */
        @keyframes slideUp {
            from { transform: translateY(100%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .toast-animate {
            animation: slideUp 0.3s ease-out forwards;
        }
    </style>
</head>
<body class="bg-gradient-to-b from-romance-blue to-white min-h-screen flex flex-col items-center justify-center p-4 text-center">

    <div class="max-w-lg w-full">
        
        <div class="mb-10 fade-in">
            <h1 id="main-title" class="text-4xl font-bold text-romance-dark mb-2 transition-all duration-500">Something Special Awaits</h1>
            <div class="h-1 w-24 bg-love-pink mx-auto rounded-full"></div>
        </div>

        <div id="countdown-display" class="grid grid-cols-4 gap-2 mb-12 fade-in">
            <div class="timer-box p-4 rounded-xl shadow-lg border border-white">
                <span id="days" class="block text-3xl font-bold text-gray-700">00</span>
                <span class="text-xs text-gray-500 uppercase tracking-widest">Days</span>
            </div>
            <div class="timer-box p-4 rounded-xl shadow-lg border border-white">
                <span id="hours" class="block text-3xl font-bold text-gray-700">00</span>
                <span class="text-xs text-gray-500 uppercase tracking-widest">Hours</span>
            </div>
            <div class="timer-box p-4 rounded-xl shadow-lg border border-white">
                <span id="minutes" class="block text-3xl font-bold text-gray-700">00</span>
                <span class="text-xs text-gray-500 uppercase tracking-widest">Mins</span>
            </div>
            <div class="timer-box p-4 rounded-xl shadow-lg border border-white">
                <span id="seconds" class="block text-3xl font-bold text-love-red">00</span>
                <span class="text-xs text-gray-500 uppercase tracking-widest">Secs</span>
            </div>
        </div>

        <div id="wait-note" class="bg-white p-6 rounded-2xl shadow-xl border-l-4 border-love-pink mb-8 fade-in mx-4">
            <p class="text-gray-600 italic mb-4">
                "Patience is not simply the ability to wait - it's how we behave while we're waiting."
            </p>
            
            <p class="text-gray-700 font-medium text-sm mb-4">
                Please save this link and come back when the time is right.
            </p>

            <button onclick="copyLink()" class="flex items-center justify-center space-x-2 w-full bg-gray-100 hover:bg-gray-200 text-gray-600 py-3 rounded-lg transition duration-200 border border-gray-200">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
                </svg>
                <span class="font-bold text-sm">Tap to Copy Link</span>
            </button>

            <p class="mt-4 text-romance-dark font-bold text-sm">See you in 2026. ðŸ’™</p>
        </div>

        <div id="action-area" class="hidden fade-in">
            <h2 class="text-2xl font-bold text-love-pink mb-4 animate-bounce">It's Time!</h2>
            <a href="love.html" class="block w-full bg-gradient-to-r from-romance-dark to-blue-500 text-white font-bold py-4 px-8 rounded-full shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition duration-300 text-xl">
                Open My Heart ðŸ’Œ
            </a>
        </div>

    </div>

    <div id="toast" class="hidden fixed bottom-10 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white px-6 py-3 rounded-full shadow-2xl flex items-center space-x-2 z-50">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
        </svg>
        <span class="font-medium">Link Copied!</span>
    </div>

    <script>
        // ======================================================
        // CONFIGURATION
        // ======================================================
        
        // Target Date: January 1, 2026, 00:00:00 (Philippines Time)
        // +08:00 forces it to adhere to PH time regardless of user location
        const targetDate = new Date("2026-01-01T00:00:00+08:00").getTime(); 

        const testMode = false; // Set to true to test the button instantly

        // ======================================================
        
        let timeOffset = 0; // Difference between device time and real time

        // FUNCTION: Fetch Real Time from Internet API (Philippines)
        async function syncTime() {
            try {
                // Fetch Manila time specifically
                const response = await fetch('https://worldtimeapi.org/api/timezone/Asia/Manila');
                const data = await response.json();
                
                // Real server time
                const serverTime = new Date(data.datetime).getTime();
                // User's device time
                const deviceTime = new Date().getTime();
                
                // Calculate offset to prevent cheating
                timeOffset = serverTime - deviceTime;
                
                startTimer();
            } catch (error) {
                // Silently fail to device time if offline
                timeOffset = 0;
                startTimer();
            }
        }

        function startTimer() {
            const countdownInterval = setInterval(function() {
                // CURRENT TIME = Device Time + Offset (Syncs to Internet Time)
                let now = new Date().getTime() + timeOffset;
                
                let distance;
                if (testMode) {
                    distance = -1;
                } else {
                    distance = targetDate - now;
                }

                // Calculations
                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                // Display
                if (distance > 0) {
                    document.getElementById("days").innerText = days < 10 ? "0" + days : days;
                    document.getElementById("hours").innerText = hours < 10 ? "0" + hours : hours;
                    document.getElementById("minutes").innerText = minutes < 10 ? "0" + minutes : minutes;
                    document.getElementById("seconds").innerText = seconds < 10 ? "0" + seconds : seconds;
                }

                // If finished
                if (distance < 0) {
                    clearInterval(countdownInterval);
                    
                    // 1. Change Title
                    document.getElementById("main-title").innerText = "New Year, New Beginning";

                    // 2. Hide Counter & Note
                    document.getElementById("countdown-display").classList.add("hidden");
                    document.getElementById("wait-note").classList.add("hidden");
                    
                    // 3. Show Button
                    const actionArea = document.getElementById("action-area");
                    actionArea.classList.remove("hidden");
                    actionArea.classList.add("flex", "flex-col", "items-center");
                }
            }, 1000);
        }

        // FUNCTION: Copy Link Logic
        function copyLink() {
            // Get current URL
            const url = window.location.href;
            
            // Copy to clipboard
            navigator.clipboard.writeText(url).then(() => {
                // Show Toast
                const toast = document.getElementById('toast');
                toast.classList.remove('hidden');
                toast.classList.add('toast-animate');
                
                // Hide Toast after 3 seconds
                setTimeout(() => {
                    toast.classList.add('hidden');
                    toast.classList.remove('toast-animate');
                }, 3000);
            }).catch(err => {
                alert("Could not copy link automatically. Please copy the URL from the address bar.");
            });
        }

        // Start the process
        syncTime();

    </script>
</body>
</html>